\documentclass[openany]{book}
\usepackage{printstyle}
\begin{document}
\tableofcontents
\cleardoublepage

\chapter{CMakeLists.txt}
\lstinputlisting{../CMakeLists.txt}
\chapter{main.cpp}
\lstinputlisting[firstline=20]{main.cpp}
\chapter{bilateral\_grid\_simplified.h}
\lstinputlisting[firstline=20]{bilateral_grid_simplified.h}
\chapter{bilateral\_grid\_simplified.cpp}
\lstinputlisting[firstline=20]{bilateral_grid_simplified.cpp}
\chapter{stereo\_matcher\_birchfield\_tomasi.h}
\lstinputlisting[firstline=20]{stereo_matcher_birchfield_tomasi.h}
\chapter{stereo\_matcher\_birchfield\_tomasi.cpp}
\lstinputlisting[firstline=20]{stereo_matcher_birchfield_tomasi.cpp}
\chapter{fast\_bilateral\_solver.h}
\lstinputlisting[firstline=20]{fast_bilateral_solver.h}
\chapter{fast\_bilateral\_solver.cpp}
\lstinputlisting[firstline=20]{fast_bilateral_solver.cpp}
\end{document}